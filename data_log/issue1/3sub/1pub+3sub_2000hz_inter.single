➜  myProject ros2 topic hz /srliu_test
average rate: 1988.592
	min: 0.000s max: 0.003s std dev: 0.00013s window: 1990
average rate: 1993.537
	min: 0.000s max: 0.003s std dev: 0.00012s window: 3989
average rate: 1995.688
	min: 0.000s max: 0.003s std dev: 0.00011s window: 5989
average rate: 1996.724
	min: 0.000s max: 0.003s std dev: 0.00011s window: 7989
average rate: 1997.354
	min: 0.000s max: 0.003s std dev: 0.00011s window: 9990
average rate: 1999.612
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 2000.194
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 2000.269
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 2000.426
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1999.008
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1998.540
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1998.427
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1998.557
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1997.832
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1998.707
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1999.049
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1998.659
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1989.258
	min: 0.000s max: 0.002s std dev: 0.00012s window: 10000
average rate: 1988.071
	min: 0.000s max: 0.002s std dev: 0.00012s window: 10000
average rate: 1985.498
	min: 0.000s max: 0.002s std dev: 0.00012s window: 10000
average rate: 1983.003
	min: 0.000s max: 0.004s std dev: 0.00013s window: 10000
average rate: 1982.207
	min: 0.000s max: 0.004s std dev: 0.00013s window: 10000
average rate: 1989.671
	min: 0.000s max: 0.004s std dev: 0.00012s window: 10000
average rate: 1990.403
	min: 0.000s max: 0.004s std dev: 0.00012s window: 10000
average rate: 1991.492
	min: 0.000s max: 0.004s std dev: 0.00012s window: 10000
average rate: 1993.620
	min: 0.000s max: 0.002s std dev: 0.00012s window: 10000
average rate: 1991.671
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1984.886
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000
average rate: 1984.092
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1983.534
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1984.561
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1986.499
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1993.608
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1990.296
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1989.488
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1989.179
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1988.993
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1988.858
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1991.369
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1983.936
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1974.927
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000
average rate: 1975.099
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000
average rate: 1974.570
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000
average rate: 1975.203
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000
average rate: 1981.717
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1989.604
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1988.489
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1987.961
	min: 0.000s max: 0.003s std dev: 0.00012s window: 10000
average rate: 1988.448
	min: 0.000s max: 0.002s std dev: 0.00012s window: 10000
average rate: 1986.688
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1987.470
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1988.066
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1988.843
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1989.036
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1991.852
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1990.606
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1990.600
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1990.923
	min: 0.000s max: 0.003s std dev: 0.00013s window: 10000
average rate: 1990.792
	min: 0.000s max: 0.002s std dev: 0.00013s window: 10000
average rate: 1990.401
	min: 0.000s max: 0.002s std dev: 0.00013s window: 10000
average rate: 1992.557
	min: 0.000s max: 0.002s std dev: 0.00013s window: 10000
average rate: 1960.546
	min: 0.000s max: 0.010s std dev: 0.00020s window: 10000
average rate: 1958.793
	min: 0.000s max: 0.010s std dev: 0.00019s window: 10000
average rate: 1957.374
	min: 0.000s max: 0.010s std dev: 0.00019s window: 10000
average rate: 1958.892
	min: 0.000s max: 0.010s std dev: 0.00019s window: 10000
average rate: 1959.003
	min: 0.000s max: 0.010s std dev: 0.00018s window: 10000
average rate: 1992.653
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1995.177
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1988.985
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1982.262
	min: 0.000s max: 0.002s std dev: 0.00010s window: 10000
average rate: 1981.274
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1981.000
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1973.187
	min: 0.000s max: 0.003s std dev: 0.00011s window: 10000
average rate: 1954.645
	min: 0.000s max: 0.008s std dev: 0.00013s window: 10000
average rate: 1942.817
	min: 0.000s max: 0.008s std dev: 0.00014s window: 10000
average rate: 1948.347
	min: 0.000s max: 0.008s std dev: 0.00014s window: 10000
average rate: 1947.224
	min: 0.000s max: 0.008s std dev: 0.00014s window: 10000
average rate: 1948.293
	min: 0.000s max: 0.008s std dev: 0.00014s window: 10000
average rate: 1980.165
	min: 0.000s max: 0.004s std dev: 0.00011s window: 10000
average rate: 1992.901
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1993.566
	min: 0.000s max: 0.003s std dev: 0.00010s window: 10000
average rate: 1993.803
	min: 0.000s max: 0.004s std dev: 0.00010s window: 10000
average rate: 1991.173
	min: 0.000s max: 0.004s std dev: 0.00010s window: 10000
average rate: 1988.229
	min: 0.000s max: 0.004s std dev: 0.00010s window: 10000
average rate: 1990.379
	min: 0.000s max: 0.004s std dev: 0.00010s window: 10000
average rate: 1987.093
	min: 0.000s max: 0.004s std dev: 0.00011s window: 10000
average rate: 1986.470
	min: 0.000s max: 0.003s std dev: 0.00011s window: 10000
average rate: 1979.769
	min: 0.000s max: 0.003s std dev: 0.00011s window: 10000
average rate: 1963.068
	min: 0.000s max: 0.005s std dev: 0.00013s window: 10000
average rate: 1943.456
	min: 0.000s max: 0.007s std dev: 0.00016s window: 10000
average rate: 1946.818
	min: 0.000s max: 0.007s std dev: 0.00015s window: 10000
average rate: 1942.658
	min: 0.000s max: 0.007s std dev: 0.00015s window: 10000
average rate: 1940.060
	min: 0.000s max: 0.007s std dev: 0.00016s window: 10000
average rate: 1963.790
	min: 0.000s max: 0.007s std dev: 0.00015s window: 10000
average rate: 1984.565
	min: 0.000s max: 0.005s std dev: 0.00012s window: 10000
average rate: 1981.143
	min: 0.000s max: 0.005s std dev: 0.00013s window: 10000
average rate: 1983.384
	min: 0.000s max: 0.005s std dev: 0.00013s window: 10000
average rate: 1966.435
	min: 0.000s max: 0.007s std dev: 0.00014s window: 10000
average rate: 1965.737
	min: 0.000s max: 0.007s std dev: 0.00014s window: 10000
average rate: 1952.369
	min: 0.000s max: 0.007s std dev: 0.00015s window: 10000
average rate: 1948.351
	min: 0.000s max: 0.007s std dev: 0.00015s window: 10000
average rate: 1946.000
	min: 0.000s max: 0.007s std dev: 0.00016s window: 10000
average rate: 1952.878
	min: 0.000s max: 0.003s std dev: 0.00015s window: 10000
average rate: 1951.679
	min: 0.000s max: 0.003s std dev: 0.00015s window: 10000
average rate: 1941.641
	min: 0.000s max: 0.004s std dev: 0.00016s window: 10000
average rate: 1957.372
	min: 0.000s max: 0.004s std dev: 0.00015s window: 10000
average rate: 1950.993
	min: 0.000s max: 0.004s std dev: 0.00015s window: 10000
average rate: 1940.334
	min: 0.000s max: 0.004s std dev: 0.00016s window: 10000
average rate: 1948.284
	min: 0.000s max: 0.004s std dev: 0.00015s window: 10000
average rate: 1962.395
	min: 0.000s max: 0.003s std dev: 0.00014s window: 10000


➜  ~ pgrep -l test_pub 
66324 test_pub
➜  ~ pidstat -p 66324 1
Linux 5.4.0-122-generic (srliu-L480) 	07/17/2022 	_x86_64_	(8 CPU)

01:48:40 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:48:41 PM  1000     66324   30.00    6.00    0.00    0.00   36.00     6  test_pub
01:48:42 PM  1000     66324   29.00    5.00    0.00    1.00   34.00     4  test_pub
01:48:43 PM  1000     66324   29.00    5.00    0.00    0.00   34.00     2  test_pub
01:48:44 PM  1000     66324   29.00    5.00    0.00    1.00   34.00     2  test_pub
01:48:45 PM  1000     66324   27.00    4.00    0.00    0.00   31.00     5  test_pub
01:48:46 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     2  test_pub
01:48:47 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     6  test_pub
01:48:48 PM  1000     66324   29.00    4.00    0.00    1.00   33.00     2  test_pub
01:48:49 PM  1000     66324   28.00    5.00    0.00    0.00   33.00     2  test_pub
01:48:50 PM  1000     66324   27.00    5.00    0.00    0.00   32.00     5  test_pub
01:48:51 PM  1000     66324   29.00    7.00    0.00    1.00   36.00     4  test_pub
01:48:52 PM  1000     66324   30.00    3.00    0.00    0.00   33.00     4  test_pub
01:48:53 PM  1000     66324   28.00    5.00    0.00    2.00   33.00     5  test_pub
01:48:54 PM  1000     66324   28.00    4.00    0.00    0.00   32.00     6  test_pub
01:48:55 PM  1000     66324   29.00    5.00    0.00    0.00   34.00     6  test_pub
01:48:56 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     7  test_pub
01:48:57 PM  1000     66324   30.00    4.00    0.00    0.00   34.00     7  test_pub
01:48:58 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     7  test_pub
01:48:59 PM  1000     66324   31.00    5.00    0.00    0.00   36.00     7  test_pub
01:49:00 PM  1000     66324   29.00    4.00    0.00    1.00   33.00     7  test_pub
01:49:01 PM  1000     66324   29.00    5.00    0.00    2.00   34.00     5  test_pub
01:49:02 PM  1000     66324   32.00    5.00    0.00    0.00   37.00     5  test_pub
01:49:03 PM  1000     66324   28.00    4.00    0.00    0.00   32.00     3  test_pub
01:49:04 PM  1000     66324   34.00    5.00    0.00    1.00   39.00     4  test_pub
01:49:05 PM  1000     66324   28.00    4.00    0.00    1.00   32.00     4  test_pub
01:49:06 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     7  test_pub
01:49:07 PM  1000     66324   30.00    4.00    0.00    0.00   34.00     7  test_pub
01:49:08 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     7  test_pub
01:49:09 PM  1000     66324   28.00    4.00    0.00    2.00   32.00     5  test_pub
01:49:10 PM  1000     66324   29.00    5.00    0.00    0.00   34.00     7  test_pub
01:49:11 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     7  test_pub
01:49:12 PM  1000     66324   30.00    4.00    0.00    0.00   34.00     4  test_pub
01:49:13 PM  1000     66324   31.00    4.00    0.00    0.00   35.00     6  test_pub

01:49:13 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:14 PM  1000     66324   33.00    5.00    0.00    1.00   38.00     4  test_pub
01:49:15 PM  1000     66324   32.00    5.00    0.00    0.00   37.00     5  test_pub
01:49:16 PM  1000     66324   27.00    6.00    0.00    0.00   33.00     3  test_pub
01:49:17 PM  1000     66324   31.00    5.00    0.00    0.00   36.00     2  test_pub
01:49:18 PM  1000     66324   29.00    5.00    0.00    1.00   34.00     5  test_pub
01:49:19 PM  1000     66324   31.00    5.00    0.00    0.00   36.00     6  test_pub
01:49:20 PM  1000     66324   28.00    4.00    0.00    0.00   32.00     4  test_pub
01:49:21 PM  1000     66324   29.00    5.00    0.00    1.00   34.00     5  test_pub
01:49:22 PM  1000     66324   30.00    6.00    0.00    0.00   36.00     2  test_pub
01:49:23 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     2  test_pub
01:49:24 PM  1000     66324   29.00    4.00    0.00    0.00   33.00     6  test_pub
01:49:25 PM  1000     66324   31.00    5.00    0.00    1.00   36.00     4  test_pub
01:49:26 PM  1000     66324   31.00    6.00    0.00    3.00   37.00     2  test_pub
01:49:27 PM  1000     66324   32.00    6.00    0.00    1.00   38.00     2  test_pub
01:49:28 PM  1000     66324   31.00    4.00    0.00    0.00   35.00     7  test_pub
01:49:29 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     5  test_pub
01:49:30 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     2  test_pub
01:49:31 PM  1000     66324   31.00    5.00    0.00    1.00   36.00     4  test_pub
01:49:32 PM  1000     66324   32.00    5.00    0.00    1.00   37.00     2  test_pub
01:49:33 PM  1000     66324   31.00    5.00    0.00    2.00   36.00     5  test_pub
01:49:34 PM  1000     66324   31.00    5.00    0.00    1.00   36.00     4  test_pub
01:49:35 PM  1000     66324   32.00    5.00    0.00    1.00   37.00     2  test_pub
01:49:36 PM  1000     66324   32.00    5.00    0.00    1.00   37.00     7  test_pub
01:49:37 PM  1000     66324   30.00    7.00    0.00    1.00   37.00     7  test_pub
01:49:38 PM  1000     66324   32.00    7.00    0.00    3.00   39.00     6  test_pub
01:49:39 PM  1000     66324   33.00    4.00    0.00    2.00   37.00     3  test_pub
01:49:40 PM  1000     66324   31.00    5.00    0.00    1.00   36.00     6  test_pub
01:49:41 PM  1000     66324   32.00    5.00    0.00    0.00   37.00     7  test_pub
01:49:42 PM  1000     66324   30.00    5.00    0.00    1.00   35.00     7  test_pub
01:49:43 PM  1000     66324   32.00    5.00    0.00    0.00   37.00     7  test_pub
01:49:44 PM  1000     66324   32.00    5.00    0.00    0.00   37.00     7  test_pub
01:49:45 PM  1000     66324   31.00    5.00    0.00    1.00   36.00     5  test_pub
01:49:46 PM  1000     66324   30.00    5.00    0.00    0.00   35.00     5  test_pub

01:49:46 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:47 PM  1000     66324   18.00   16.00    0.00    1.00   34.00     7  test_pub
01:49:48 PM  1000     66324   10.00   24.00    0.00    0.00   34.00     7  test_pub
01:49:49 PM  1000     66324   14.00   22.00    0.00    1.00   36.00     5  test_pub
01:49:50 PM  1000     66324   33.00    1.00    0.00    1.00   34.00     4  test_pub
01:49:51 PM  1000     66324   36.00    0.00    0.00    0.00   36.00     4  test_pub
01:49:52 PM  1000     66324   38.00    0.00    0.00    2.00   38.00     6  test_pub
01:49:53 PM  1000     66324   38.00    0.00    0.00    4.00   38.00     5  test_pub
01:49:54 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     2  test_pub
01:49:55 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     4  test_pub
01:49:56 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     4  test_pub
01:49:57 PM  1000     66324   35.00    0.00    0.00    1.00   35.00     4  test_pub
01:49:58 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     4  test_pub
01:49:59 PM  1000     66324   37.00    0.00    0.00    1.00   37.00     2  test_pub
01:50:00 PM  1000     66324   38.00    0.00    0.00    1.00   38.00     3  test_pub
01:50:01 PM  1000     66324   38.00    0.00    0.00    1.00   38.00     7  test_pub
01:50:02 PM  1000     66324   40.00    0.00    0.00    2.00   40.00     7  test_pub
01:50:03 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     6  test_pub
01:50:04 PM  1000     66324   37.00    0.00    0.00    1.00   37.00     5  test_pub
01:50:05 PM  1000     66324   36.00    0.00    0.00    0.00   36.00     4  test_pub
01:50:06 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     4  test_pub
01:50:07 PM  1000     66324   37.00    0.00    0.00    2.00   37.00     6  test_pub
01:50:08 PM  1000     66324   36.00    0.00    0.00    1.00   36.00     5  test_pub
01:50:09 PM  1000     66324   39.00    0.00    0.00    0.00   39.00     5  test_pub
01:50:10 PM  1000     66324   37.00    0.00    0.00    1.00   37.00     6  test_pub
^C
Average:     1000     66324   31.11    4.30    0.00    0.76   35.41     -  test_pub

➜  ~ pgrep -l test_sub1
66374 test_sub1
➜  ~ pidstat -p 66374 1
Linux 5.4.0-122-generic (srliu-L480) 	07/17/2022 	_x86_64_	(8 CPU)

01:48:49 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:48:50 PM  1000     66374   40.00    1.00    0.00    6.00   41.00     3  test_sub1
01:48:51 PM  1000     66374   37.00    1.00    0.00    6.00   38.00     6  test_sub1
01:48:52 PM  1000     66374   40.00    0.00    0.00    8.00   40.00     3  test_sub1
01:48:53 PM  1000     66374   36.00    2.00    0.00    4.00   38.00     2  test_sub1
01:48:54 PM  1000     66374   38.00    2.00    0.00    2.00   40.00     3  test_sub1
01:48:55 PM  1000     66374   38.00    1.00    0.00    1.00   39.00     3  test_sub1
01:48:56 PM  1000     66374   37.00    2.00    0.00    4.00   39.00     3  test_sub1
01:48:57 PM  1000     66374   36.00    1.00    0.00    3.00   37.00     3  test_sub1
01:48:58 PM  1000     66374   32.00    2.00    0.00    6.00   34.00     6  test_sub1
01:48:59 PM  1000     66374   40.00    0.00    0.00    4.00   40.00     6  test_sub1
01:49:00 PM  1000     66374   37.00    2.00    0.00    3.00   39.00     7  test_sub1
01:49:01 PM  1000     66374   40.00    1.00    0.00    6.00   41.00     7  test_sub1
01:49:02 PM  1000     66374   40.00    0.00    0.00   10.00   40.00     7  test_sub1
01:49:03 PM  1000     66374   42.00    0.00    0.00    9.00   42.00     4  test_sub1
01:49:04 PM  1000     66374   40.00    0.00    0.00    5.00   40.00     6  test_sub1
01:49:05 PM  1000     66374   40.00    0.00    0.00    4.00   40.00     3  test_sub1
01:49:06 PM  1000     66374   34.00    3.00    0.00    4.00   37.00     3  test_sub1
01:49:07 PM  1000     66374   35.00    1.00    0.00    6.00   36.00     6  test_sub1
01:49:08 PM  1000     66374   39.00    1.00    0.00    5.00   40.00     7  test_sub1
01:49:09 PM  1000     66374   38.00    2.00    0.00    4.00   40.00     3  test_sub1
01:49:10 PM  1000     66374   40.00    1.00    0.00    3.00   41.00     3  test_sub1
01:49:11 PM  1000     66374   39.00    1.00    0.00    4.00   40.00     6  test_sub1
01:49:12 PM  1000     66374   39.00    1.00    0.00    5.00   40.00     3  test_sub1
01:49:13 PM  1000     66374   37.00    1.00    0.00    4.00   38.00     7  test_sub1
01:49:14 PM  1000     66374   35.00    2.00    0.00    5.00   37.00     6  test_sub1
01:49:15 PM  1000     66374   39.00    1.00    0.00    7.00   40.00     7  test_sub1
01:49:16 PM  1000     66374   34.00    3.00    0.00    5.00   37.00     7  test_sub1
01:49:17 PM  1000     66374   36.00    0.00    0.00    6.00   36.00     7  test_sub1
01:49:18 PM  1000     66374   41.00    1.00    0.00    2.00   42.00     7  test_sub1
01:49:19 PM  1000     66374   40.00    1.00    0.00    4.00   41.00     6  test_sub1
01:49:20 PM  1000     66374   39.00    0.00    0.00    5.00   39.00     7  test_sub1
01:49:21 PM  1000     66374   37.00    1.00    0.00    4.00   38.00     2  test_sub1
01:49:22 PM  1000     66374   38.00    2.00    0.00    2.00   40.00     7  test_sub1

01:49:22 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:23 PM  1000     66374   39.00    0.00    0.00    6.00   39.00     7  test_sub1
01:49:24 PM  1000     66374   37.00    1.00    0.00    4.00   38.00     7  test_sub1
01:49:25 PM  1000     66374   38.00    1.00    0.00    9.00   39.00     2  test_sub1
01:49:26 PM  1000     66374   38.00    1.00    0.00    8.00   39.00     2  test_sub1
01:49:27 PM  1000     66374   37.00    0.00    0.00    5.00   37.00     7  test_sub1
01:49:28 PM  1000     66374   38.00    2.00    0.00    2.00   40.00     7  test_sub1
01:49:29 PM  1000     66374   37.00    0.00    0.00    8.00   37.00     5  test_sub1
01:49:30 PM  1000     66374   38.00    0.00    0.00    5.00   38.00     3  test_sub1
01:49:31 PM  1000     66374   39.00    1.00    0.00    8.00   40.00     2  test_sub1
01:49:32 PM  1000     66374   38.00    1.00    0.00    5.00   39.00     2  test_sub1
01:49:33 PM  1000     66374   39.00    0.00    0.00    5.00   39.00     2  test_sub1
01:49:34 PM  1000     66374   40.00    0.00    0.00    5.00   40.00     5  test_sub1
01:49:35 PM  1000     66374   38.00    1.00    0.00    6.00   39.00     5  test_sub1
01:49:36 PM  1000     66374   33.00    1.00    0.00    7.00   34.00     5  test_sub1
01:49:37 PM  1000     66374   39.00    0.00    0.00    8.00   39.00     7  test_sub1
01:49:38 PM  1000     66374   36.00    0.00    0.00    7.00   36.00     5  test_sub1
01:49:39 PM  1000     66374   34.65    3.96    0.00    4.95   38.61     3  test_sub1
01:49:40 PM  1000     66374   39.00    0.00    0.00    7.00   39.00     6  test_sub1
01:49:41 PM  1000     66374   37.00    0.00    0.00    4.00   37.00     4  test_sub1
01:49:42 PM  1000     66374   36.00    1.00    0.00    4.00   37.00     6  test_sub1
01:49:43 PM  1000     66374   34.00    3.00    0.00    6.00   37.00     7  test_sub1
01:49:44 PM  1000     66374   38.00    1.00    0.00    6.00   39.00     2  test_sub1
01:49:45 PM  1000     66374   38.00    1.00    0.00    6.00   39.00     4  test_sub1
01:49:46 PM  1000     66374   33.00    9.00    0.00   13.00   42.00     7  test_sub1
01:49:47 PM  1000     66374   40.00    1.00    0.00    4.00   41.00     2  test_sub1
01:49:48 PM  1000     66374   39.00    2.00    0.00    6.00   41.00     2  test_sub1
01:49:49 PM  1000     66374   39.00    0.00    0.00   11.00   39.00     3  test_sub1
01:49:50 PM  1000     66374   37.00    3.00    0.00    8.00   40.00     3  test_sub1
01:49:51 PM  1000     66374   36.00    1.00    0.00    3.00   37.00     7  test_sub1
01:49:52 PM  1000     66374   36.00    2.00    0.00    3.00   38.00     2  test_sub1
01:49:53 PM  1000     66374   35.00    1.00    0.00    5.00   36.00     4  test_sub1
01:49:54 PM  1000     66374   34.00    1.00    0.00    6.00   35.00     5  test_sub1
01:49:55 PM  1000     66374   38.00    1.00    0.00    4.00   39.00     6  test_sub1

01:49:55 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:56 PM  1000     66374   36.00    2.00    0.00    6.00   38.00     3  test_sub1
01:49:57 PM  1000     66374   36.00    1.00    0.00    4.00   37.00     4  test_sub1
01:49:58 PM  1000     66374   36.00    1.00    0.00    5.00   37.00     3  test_sub1
01:49:59 PM  1000     66374   37.00    2.00    0.00    5.00   39.00     6  test_sub1
01:50:00 PM  1000     66374   34.00    1.00    0.00    7.00   35.00     5  test_sub1
01:50:01 PM  1000     66374   38.00    1.00    0.00    9.00   39.00     6  test_sub1
01:50:02 PM  1000     66374   36.00    2.00    0.00    3.00   38.00     6  test_sub1
01:50:03 PM  1000     66374   38.00    2.00    0.00    5.00   40.00     6  test_sub1
01:50:04 PM  1000     66374   37.00    1.00    0.00    5.00   38.00     4  test_sub1
01:50:05 PM  1000     66374   40.00    1.00    0.00    7.00   41.00     6  test_sub1
01:50:06 PM  1000     66374   36.00    2.00    0.00    5.00   38.00     5  test_sub1
01:50:07 PM  1000     66374   37.00    1.00    0.00    5.00   38.00     7  test_sub1
01:50:08 PM  1000     66374   35.00    3.00    0.00    5.00   38.00     5  test_sub1
^C
Average:     1000     66374   37.43    1.23    0.00    5.39   38.65     -  test_sub1

  ~ pgrep -l test_sub0
66350 test_sub0
➜  ~ pidstat -p 66350 1
Linux 5.4.0-122-generic (srliu-L480) 	07/17/2022 	_x86_64_	(8 CPU)

01:49:03 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:04 PM  1000     66350   41.00    2.00    0.00    2.00   43.00     4  test_sub0
01:49:05 PM  1000     66350   41.00    0.00    0.00    4.00   41.00     6  test_sub0
01:49:06 PM  1000     66350   40.00    1.00    0.00    5.00   41.00     6  test_sub0
01:49:07 PM  1000     66350   39.00    1.00    0.00    4.00   40.00     5  test_sub0
01:49:08 PM  1000     66350   39.00    1.00    0.00    1.00   40.00     6  test_sub0
01:49:09 PM  1000     66350   41.00    0.00    0.00    5.00   41.00     6  test_sub0
01:49:10 PM  1000     66350   43.00    0.00    0.00    6.00   43.00     4  test_sub0
01:49:11 PM  1000     66350   38.00    1.00    0.00    4.00   39.00     3  test_sub0
01:49:12 PM  1000     66350   39.00    0.00    0.00    6.00   39.00     6  test_sub0
01:49:13 PM  1000     66350   38.00    0.00    0.00    5.00   38.00     5  test_sub0
01:49:14 PM  1000     66350   35.00    5.00    0.00    7.00   40.00     6  test_sub0
01:49:15 PM  1000     66350   39.00    0.00    0.00    7.00   39.00     7  test_sub0
01:49:16 PM  1000     66350   40.00    1.00    0.00    2.00   41.00     5  test_sub0
01:49:17 PM  1000     66350   36.00    1.00    0.00    5.00   37.00     4  test_sub0
01:49:18 PM  1000     66350   38.00    1.00    0.00    3.00   39.00     4  test_sub0
01:49:19 PM  1000     66350   37.00    0.00    0.00    5.00   37.00     4  test_sub0
01:49:20 PM  1000     66350   35.00    1.00    0.00    3.00   36.00     6  test_sub0
01:49:21 PM  1000     66350   37.00    3.00    0.00    4.00   40.00     6  test_sub0
01:49:22 PM  1000     66350   35.00    1.00    0.00    2.00   36.00     2  test_sub0
01:49:23 PM  1000     66350   36.00    3.00    0.00    2.00   39.00     5  test_sub0
01:49:24 PM  1000     66350   40.00    0.00    0.00    6.00   40.00     5  test_sub0
01:49:25 PM  1000     66350   35.00    1.00    0.00    2.00   36.00     4  test_sub0
01:49:26 PM  1000     66350   37.00    1.00    0.00    5.00   38.00     5  test_sub0
01:49:27 PM  1000     66350   38.00    0.00    0.00    6.00   38.00     4  test_sub0
01:49:28 PM  1000     66350   36.00    0.00    0.00    6.00   36.00     6  test_sub0
01:49:29 PM  1000     66350   38.00    1.00    0.00    5.00   39.00     2  test_sub0
01:49:30 PM  1000     66350   35.00    3.00    0.00    5.00   38.00     2  test_sub0
01:49:31 PM  1000     66350   37.00    2.00    0.00    6.00   39.00     2  test_sub0
01:49:32 PM  1000     66350   37.00    1.00    0.00    3.00   38.00     3  test_sub0
01:49:33 PM  1000     66350   37.00    1.00    0.00    4.00   38.00     3  test_sub0
01:49:34 PM  1000     66350   36.00    1.00    0.00    5.00   37.00     7  test_sub0
01:49:35 PM  1000     66350   36.00    2.00    0.00    5.00   38.00     2  test_sub0
01:49:36 PM  1000     66350   40.00    0.00    0.00    5.00   40.00     7  test_sub0

01:49:36 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:37 PM  1000     66350   38.00    1.00    0.00    7.00   39.00     7  test_sub0
01:49:38 PM  1000     66350   36.00    2.00    0.00    8.00   38.00     3  test_sub0
01:49:39 PM  1000     66350   34.00    3.00    0.00    6.00   37.00     4  test_sub0
01:49:40 PM  1000     66350   34.00    2.00    0.00    8.00   36.00     4  test_sub0
01:49:41 PM  1000     66350   39.00    1.00    0.00    3.00   40.00     5  test_sub0
01:49:42 PM  1000     66350   38.00    1.00    0.00    3.00   39.00     6  test_sub0
01:49:43 PM  1000     66350   39.00    1.00    0.00    4.00   40.00     7  test_sub0
01:49:44 PM  1000     66350   42.00    1.00    0.00    4.00   43.00     3  test_sub0
01:49:45 PM  1000     66350   38.00    1.00    0.00    5.00   39.00     5  test_sub0
01:49:46 PM  1000     66350   40.00    1.00    0.00    5.00   41.00     2  test_sub0
01:49:47 PM  1000     66350   39.00    1.00    0.00    4.00   40.00     4  test_sub0
01:49:48 PM  1000     66350   37.00    3.00    0.00    5.00   40.00     2  test_sub0
01:49:49 PM  1000     66350   38.00    1.00    0.00    4.00   39.00     3  test_sub0
01:49:50 PM  1000     66350   35.00    1.00    0.00    4.00   36.00     3  test_sub0
01:49:51 PM  1000     66350   36.00    1.00    0.00    5.00   37.00     3  test_sub0
01:49:52 PM  1000     66350   36.00    2.00    0.00    2.00   38.00     7  test_sub0
01:49:53 PM  1000     66350   36.00    0.00    0.00    5.00   36.00     5  test_sub0
01:49:54 PM  1000     66350   35.00    2.00    0.00    6.00   37.00     6  test_sub0
01:49:55 PM  1000     66350   36.00    1.00    0.00    5.00   37.00     3  test_sub0
01:49:56 PM  1000     66350   38.00    1.00    0.00    5.00   39.00     3  test_sub0
01:49:57 PM  1000     66350   36.00    1.00    0.00    4.00   37.00     3  test_sub0
01:49:58 PM  1000     66350   37.00    1.00    0.00    5.00   38.00     4  test_sub0
01:49:59 PM  1000     66350   36.00    2.00    0.00    3.00   38.00     4  test_sub0
01:50:00 PM  1000     66350   34.00    2.00    0.00    8.00   36.00     4  test_sub0
01:50:01 PM  1000     66350   37.00    2.00    0.00    3.00   39.00     4  test_sub0
01:50:02 PM  1000     66350   35.00    4.00    0.00    6.00   39.00     3  test_sub0
01:50:03 PM  1000     66350   39.00    1.00    0.00    5.00   40.00     7  test_sub0
01:50:04 PM  1000     66350   40.00    1.00    0.00    6.00   41.00     6  test_sub0
01:50:05 PM  1000     66350   37.00    1.00    0.00    4.00   38.00     7  test_sub0
01:50:06 PM  1000     66350   35.00    3.00    0.00    5.00   38.00     7  test_sub0
01:50:07 PM  1000     66350   36.00    3.00    0.00    6.00   39.00     4  test_sub0
^C
Average:     1000     66350   37.42    1.30    0.00    4.66   38.72     -  test_sub0


➜  ~ pgrep -l test_sub2
66415 test_sub2
➜  ~ pidstat -p 66415 1
Linux 5.4.0-122-generic (srliu-L480) 	07/17/2022 	_x86_64_	(8 CPU)

01:49:19 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:20 PM  1000     66415   35.00    2.00    0.00    3.00   37.00     2  test_sub2
01:49:21 PM  1000     66415   40.00    1.00    0.00    3.00   41.00     2  test_sub2
01:49:22 PM  1000     66415   37.00    2.00    0.00    2.00   39.00     4  test_sub2
01:49:23 PM  1000     66415   36.00    1.00    0.00    2.00   37.00     4  test_sub2
01:49:24 PM  1000     66415   36.00    2.00    0.00    2.00   38.00     2  test_sub2
01:49:25 PM  1000     66415   38.00    1.00    0.00    2.00   39.00     4  test_sub2
01:49:26 PM  1000     66415   36.00    0.00    0.00    7.00   36.00     6  test_sub2
01:49:27 PM  1000     66415   37.00    0.00    0.00    6.00   37.00     3  test_sub2
01:49:28 PM  1000     66415   38.00    2.00    0.00    4.00   40.00     5  test_sub2
01:49:29 PM  1000     66415   37.00    2.00    0.00    4.00   39.00     4  test_sub2
01:49:30 PM  1000     66415   36.00    1.00    0.00    3.00   37.00     2  test_sub2
01:49:31 PM  1000     66415   34.00    2.00    0.00    4.00   36.00     2  test_sub2
01:49:32 PM  1000     66415   37.00    1.00    0.00    4.00   38.00     5  test_sub2
01:49:33 PM  1000     66415   35.00    2.00    0.00    6.00   37.00     5  test_sub2
01:49:34 PM  1000     66415   37.00    1.00    0.00    6.00   38.00     5  test_sub2
01:49:35 PM  1000     66415   37.00    0.00    0.00    7.00   37.00     4  test_sub2
01:49:36 PM  1000     66415   37.00    1.00    0.00    5.00   38.00     4  test_sub2
01:49:37 PM  1000     66415   40.00    0.00    0.00    8.00   40.00     3  test_sub2
01:49:38 PM  1000     66415   37.00    0.00    0.00    4.00   37.00     4  test_sub2
01:49:39 PM  1000     66415   34.00    2.00    0.00    8.00   36.00     2  test_sub2
01:49:40 PM  1000     66415   35.00    2.00    0.00    6.00   37.00     5  test_sub2
01:49:41 PM  1000     66415   39.00    1.00    0.00    5.00   40.00     6  test_sub2
01:49:42 PM  1000     66415   37.00    1.00    0.00    3.00   38.00     7  test_sub2
01:49:43 PM  1000     66415   38.00    1.00    0.00    4.00   39.00     5  test_sub2
01:49:44 PM  1000     66415   37.00    0.00    0.00    3.00   37.00     2  test_sub2
01:49:45 PM  1000     66415   37.00    1.00    0.00    4.00   38.00     4  test_sub2
01:49:46 PM  1000     66415   38.00    1.00    0.00    5.00   39.00     4  test_sub2
01:49:47 PM  1000     66415   38.00    1.00    0.00    5.00   39.00     4  test_sub2
01:49:48 PM  1000     66415   38.00    0.00    0.00    6.00   38.00     7  test_sub2
01:49:49 PM  1000     66415   41.00    1.00    0.00    1.00   42.00     7  test_sub2
01:49:50 PM  1000     66415   38.00    1.00    0.00    3.00   39.00     2  test_sub2
01:49:51 PM  1000     66415   40.00    1.00    0.00    4.00   41.00     6  test_sub2
01:49:52 PM  1000     66415   36.00    1.00    0.00    3.00   37.00     2  test_sub2

01:49:52 PM   UID       PID    %usr %system  %guest   %wait    %CPU   CPU  Command
01:49:53 PM  1000     66415   34.00    2.00    0.00    4.00   36.00     6  test_sub2
01:49:54 PM  1000     66415   33.00    2.00    0.00    7.00   35.00     6  test_sub2
01:49:55 PM  1000     66415   38.00    1.00    0.00    6.00   39.00     6  test_sub2
01:49:56 PM  1000     66415   35.00    0.00    0.00    6.00   35.00     2  test_sub2
01:49:57 PM  1000     66415   36.00    1.00    0.00    5.00   37.00     3  test_sub2
01:49:58 PM  1000     66415   37.00    1.00    0.00    6.00   38.00     4  test_sub2
01:49:59 PM  1000     66415   35.00    1.00    0.00    3.00   36.00     3  test_sub2
01:50:00 PM  1000     66415   33.00    4.00    0.00    4.00   37.00     6  test_sub2
01:50:01 PM  1000     66415   39.00    1.00    0.00    5.00   40.00     5  test_sub2
01:50:02 PM  1000     66415   36.00    2.00    0.00    4.00   38.00     5  test_sub2
01:50:03 PM  1000     66415   38.00    1.00    0.00    4.00   39.00     6  test_sub2
01:50:04 PM  1000     66415   34.65    3.96    0.00    8.91   38.61     3  test_sub2
01:50:05 PM  1000     66415   36.00    1.00    0.00    5.00   37.00     4  test_sub2
01:50:06 PM  1000     66415   36.00    0.00    0.00    5.00   36.00     2  test_sub2
^C
Average:     1000     66415   36.74    1.19    0.00    4.57   37.93     -  test_sub2


------------------------------------
Average:     1000     66324   31.11    4.30    0.00    0.76   35.41     -  test_pub
Average:     1000     66374   37.43    1.23    0.00    5.39   38.65     -  test_sub1
Average:     1000     66350   37.42    1.30    0.00    4.66   38.72     -  test_sub0
Average:     1000     66415   36.74    1.19    0.00    4.57   37.93     -  test_sub2
